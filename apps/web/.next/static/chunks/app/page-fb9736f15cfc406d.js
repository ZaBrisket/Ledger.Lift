(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6886:function(e,n,t){Promise.resolve().then(t.bind(t,898))},898:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}});var i=t(4378),a=t(8946),r=t(8044);function l(e){let{onStatusChange:n}=e,t=(0,a.useRef)(null),[l,s]=(0,a.useState)(!1);async function u(e){var i;let a=null===(i=e.target.files)||void 0===i?void 0:i[0];if(a){s(!0),null==n||n("Presigning…");try{let e=await (0,r.xp)(a.name,a.type||"application/pdf");null==n||n("Uploading…");let t=await fetch(e.url,{method:"PUT",body:a,headers:{"Content-Type":a.type||"application/pdf"}});if(!t.ok)throw Error("PUT failed: ".concat(t.status));null==n||n("Registering…"),await (0,r.WM)({s3_key:e.key,original_filename:a.name}),null==n||n("Done")}catch(e){null==n||n("Error: ".concat(e.message||e))}finally{s(!1),t.current&&(t.current.value="")}}}return(0,i.jsx)("div",{children:(0,i.jsx)("input",{ref:t,type:"file",accept:"application/pdf",onChange:u,disabled:l})})}var s=t(3424),u=t(6095),c=t(2169);function d(e){let{status:n}=e;return(0,i.jsx)(s.Z,{variant:"outlined",children:(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(c.Z,{variant:"h6",children:"Status"}),(0,i.jsx)(c.Z,{variant:"body2",children:n})]})})}function o(){let[e,n]=(0,a.useState)("Idle");return(0,i.jsxs)("main",{style:{maxWidth:720,margin:"40px auto",padding:16},children:[(0,i.jsx)("h1",{children:"Ledger Lift"}),(0,i.jsx)("p",{children:"Upload a PDF to get a pre‑signed URL and register the document."}),(0,i.jsx)(l,{onStatusChange:n}),(0,i.jsx)("div",{style:{marginTop:24},children:(0,i.jsx)(d,{status:e})})]})}}},function(e){e.O(0,[567,44,198,529,744],function(){return e(e.s=6886)}),_N_E=e.O()}]);